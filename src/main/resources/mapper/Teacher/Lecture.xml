<?xml version="1.0" encoding="UTF-8" ?> <!-- 맵퍼파일 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
  <mapper namespace="lecture">
  
  	<select id="totalCount" resultType="integer">
  		select COUNT(*) AS count
  		from lecture_apply
  	</select>
	
	<select id="totalCount1" resultType="integer">
  		select COUNT(*) AS count
  		from lecture_info_view
  	</select>
  	

	<select id="t_lectureApplyList" parameterType="map" resultType="LectureDTO">
  		SELECT *
		FROM lecture_apply
		WHERE t_id = #{u_id}
		ORDER BY l_date DESC
		limit #{page.startPage} , #{page.lastPage}
  	</select>	

	<select id="t_lectureList" parameterType="map" resultType="LectureDTO">
  		SELECT *
		FROM lecture_info_view
		WHERE t_id = #{u_id}
		ORDER BY l_date DESC
		limit #{page.startPage} , #{page.lastPage}
  	</select>
  	
  	<select id="lecture_Lookup" parameterType ="LectureDTO" resultType="LectureDTO">
  		SELECT *
  		FROM lecture_apply
  		WHERE la_no = #{la_no}
  	</select>
  	
  	<select id="lecture_Lookup2" parameterType ="LectureDTO" resultType="LectureDTO">
  		SELECT *
  		FROM lecture_info_view
  		WHERE l_code = #{l_code}
  	</select>


	<insert id="t_lecture_request" parameterType="LectureDTO">
		INSERT INTO lecture_apply (t_id, l_name, l_category, l_info, l_curriculum)
		VALUES (#{t_id}, #{l_name}, #{l_category}, #{l_info}, #{l_curriculum})
	</insert> 
	
	<select id="t_letureNameSearch" parameterType="String" resultType="LectureDTO">
  		select * 
  		from lecture 
  		where l_name LIKE '%' #{l_name } '%'
  	</select>
  	
  	<select id="cate" resultType="hashmap">
  		select * from lecture_category
  	</select>
  </mapper>