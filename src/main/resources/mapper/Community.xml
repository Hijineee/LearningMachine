<?xml version="1.0" encoding="UTF-8" ?> <!-- 맵퍼파일 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="Community">

  	<select id="totalCount"  parameterType="String" resultType="integer">
  		SELECT count(*)
  		from ${name}
  	</select>
  	
  	<select id="qnaList" parameterType="map" resultType="map">
  		SELECT c.c_name, l.*
		FROM lecture_qna l JOIN category c
		ON l.l_code = c.c_code

  		<if test="c_name != null">
  		where c_name = #{c_name}
  		</if>
  		ORDER BY lqa_no
  		limit #{page.startPage},#{page.lastPage}
  	</select>
  
  </mapper>